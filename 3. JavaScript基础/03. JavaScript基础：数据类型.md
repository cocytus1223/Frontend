# 1. JavaScript 数据类型
<!-- TOC -->

- [1. JavaScript 数据类型](#1-javascript-数据类型)
  - [1.1. `typeof` 操作符](#11-typeof-操作符)
  - [1.2. `number` 数据类型](#12-number-数据类型)
  - [1.3. `string` 数据类型](#13-string-数据类型)
  - [1.4. `Boolean` 布尔类型](#14-boolean-布尔类型)
  - [1.5. `Undefined` 类型](#15-undefined-类型)
  - [1.6. `Null` 类型](#16-null-类型)
  - [1.7. JavaScript 数据类型转换](#17-javascript-数据类型转换)
    - [1.7.1. 将数据转换成 number（数值型）](#171-将数据转换成-number数值型)
      - [1.7.1.1. `parseInt()`](#1711-parseint)
      - [1.7.1.2. `parseFloat()`](#1712-parsefloat)
      - [1.7.1.3. `Number（）`](#1713-number)
    - [1.7.2. 将数据转换成字符串](#172-将数据转换成字符串)
      - [1.7.2.1. `toString()`](#1721-tostring)
      - [1.7.2.2. `String()`](#1722-string)
    - [1.7.3. 将数据转换成布尔类型](#173-将数据转换成布尔类型)

<!-- /TOC -->
在程序设计中，数据类型被定义为数据的种类，也就是说一系列可能值以及基于这些值的基本操作。
好处：更加充分和高效的利用内存和使用数据。

- 基本数据类型（值类型）
  - `number` 数值型
  - `string` 字符串
  - `boolean` 布尔型
  - `undefined` 未定义
  - `null` 空引用
- 引用数据类型（引用类型）
  - `object` 对象

内置对象 function、Array、Date、RegExp、Error 等都是属于 Object。

基本数据类型：参数赋值的时候，传数值。

引用数据类型：参数赋值的时候，传地址（修改的同一片内存空间）。

## 1.1. `typeof` 操作符

鉴于 `ECMAScript` 是松散类型的，因此需要有一种手段来检测给定变量的数据类型——`typeof` 就是负责提供这方面信息的操作符。对一个值使用 `typeof` 操作符可能返回下列某个字符串：

- `“undefined”`——如果这个值未定义；
- `“Boolean”`——如果这个值是布尔值；
- `“string”`——如果这个值是字符串；
- `“number”`——如果这个值是数值；
- `“object”`——如果这个值是对象或 null；
- `“function”`——如果这个值是函数。

## 1.2. `number` 数据类型

`Number` 类型应该是 `ECMAScript` 中最令人关注的数据类型了。这种类型使用 `IEEE754` 格式来表示整数和浮点数。为支持各种数值类型，`ECMA-262` 定义了不同的数值字面量格式。
最基本的数值字面量格式是十进制整数，十进制整数可以直接在代码中输入。
八进制字面值的第一位必须是 0，然后是八进制数字序列。如果字面值中的数值超出了范围，那么前导 0 将被忽略，后面的数值将被当作十进制数值解析。
十六进制字面值的前两位必须是 0x，后跟任何十六进制数字（0~9 及 A~F)。其中字母 A~F 可以大写也可以小写。

1. **浮点数值**
   - 所谓浮点数值，就是该数值中必须包含一个小数点，并且小数点后面必须至少有一位数字。虽然小数点前面可以没有整数，但我们不推荐这种写法。
   - 浮点数值的最高精度是 `17` 位小数，但在进行算术计算时其精确度远远不如整数。例如 `0.1+0.2` 的结果不是 `0.3`，而是 `0.30000000000000004`，这个小小的舍入误差会导致无法测试特定的浮点数值。（解决方式，提高倍数转换成整数进行运算）
2. **数值范围**
   由于内存限制，`ECMAScript` 并不能保存世界上所有的数值。
   - 最大值：`Number.MAX_VALUE`，这个值为： 1.7976931348623157e+308
   - 最小值：`Number.MIN_VALUE`，这个值为： 5e-324
   如果使用Number表示的变量超过了最大值，则会返回Infinity。
   - 无穷大（正无穷）：Infinity
   - 无穷小（负无穷）：-Infinity
3. **`NaN`**
   `NaN`，即非数值（Not a Number）是一个特殊的数值。这个数值用于表示一个本来要返回数值的操作数未返回数值的情况。例如，在其他编程语言中，任何数值除以非数值都会导致错误，从而停止代码执行。但在 `ECMAScript` 中，任何数值除以非数值会返回 `NaN`，因此不会影响其他代码的执行。
   `NaN` 本身有两个非同寻常的特点。首先，任何涉及 `NaN` 的操作都会返回 `NaN`，这个特点在多步计算中有可能导致问题。其次，`NaN` 与任何值都不相等，包括 `NaN` 本身。

## 1.3. `string` 数据类型

- `String` 类型用于表示由 0 或多个 16 位 `Unicode` 字符组成的字符序列，即字符串。
- 字符串由成对的双引号（“）或单引号（‘）表示，但是引号之间不能嵌套。
- 转义字符：
   ![转义字符](../images/clipboard.png)
   这些字符可以出现在字符串中的任意位置，而且也将被作为一个字符来解析

## 1.4. `Boolean` 布尔类型

`Boolean` 类型是 `ECAMScript` 中使用得最多的一种类型，该类型只有两个字面值：`true` 和 `false`。这两个值与数字值不是一回事。因此 `true` 不一定等于 `1`，而 `false` 也不一定等于`0`。

## 1.5. `Undefined` 类型

`undefined` 类型只有一个值，即特殊的 `undefined`。在使用 `var` 声明变量但未对其加以初始化时，这个变量的值就是 `undefined`。

## 1.6. `Null` 类型

`Null` 类型是第二个只有一个值的数据类型，这个特殊的值是 `null`。从逻辑角度上来看，`null` 值表示一个空对象指针，而这也正是使用 `typeof` 操作符检测 `null` 值时会返回`“object”`的原因。一般用来将某些数据清空。

## 1.7. JavaScript 数据类型转换

### 1.7.1. 将数据转换成 number（数值型）

#### 1.7.1.1. `parseInt()`

- `parseInt()`把字符串转换成整数，小数点后的直接忽略
- `parseInt()`函数在转换字符串时，更多的是看其是否符合数值模式。它会忽略字符串前面的空格，直至找到第一个非空格字符。如果第一个字符不是数字字符或者负号，`parseInt（）`就会返回 `NaN`。如果第一个字符是数字字符，就继续解析第二个字符，直到解析完所有后续字符或者遇到了一个非数字字符。
- 如果字符串中的第一个字符是数字字符，`parseInt（）`也能够识别出各种整数格式（十进制，八进制，十六进制）

#### 1.7.1.2. `parseFloat()`

- 把字符串转换成浮点数 `parseFloat` 会解析第一个. 遇到第二个 . 或者非数字结束 如果解析的内容里只有整数，解析成整数
- `parseFloat()`也是从第一个字符开始解析每个字符，一直解析到字符串末尾，或者解析到遇见一个无效的浮点数字字符为止。
- 字符串中的第一个小数点是有效的，第二个小数点无效，因此它后面的字符串将被忽略。
- 始终都会忽略前导的 0，因此不能解析十六进制，十六进制格式的字符串始终会被转换成 0
- 如果字符串包含的是一个可解析为整数的数，那么 `parseInt（）`会返回整数。

#### 1.7.1.3. `Number（）`

- 可以用于任何数字类型
- 如果是 `Boolean` 值，`true` 和 `false` 将分别被转换为 `1` 和 `0`
- 如果是数字值，只是简单的传入和返回
- 如果是 `null` 值，返回 `0`
- 如果是 `undefined`，返回 `NaN`
- 如果是字符串，遵循下列规则：
  - 如果字符串中只包含数字，则将其转换为十进制数值（前导 0 会被忽略）
  - 如果字符串中包含有效的浮点格式，如“1.1”，则将其转换为对用的浮点数值（前导 0 会被忽略）
  - 如果字符串中包含有效的十六进制格式，则将其转换为相同大小的十进制整数值
  - 如果字符串是空的，则将其转换为 `0`
  - 如果字符串中包含除上述格式之外的字符，将其转换为 `NaN`
  - 黑科技（隐式转换）如果在数字字符串前面添加一个+号，会自动隐式转换成数字类型

### 1.7.2. 将数据转换成字符串

#### 1.7.2.1. `toString()`

- 数值、布尔值、对象和字符串值都有`toString()`方法，但 `null` 和 `undefined` 没有这个方法。
- 多数情况下，调用 `toString()`方法不必传递参数。但是，在调用数值的`toString()`方法时，可以传递一个参数：输出数值的基数。默认情况下，`toString()`方法以十进制格式返回数值的字符串表示，而通过传递基数，`toString()`可以输出以二进制、八进制、十六进制，乃至其他任意有效进制格式表示的字符串值。

#### 1.7.2.2. `String()`

- 在不知道要转换的值是不是`null`或 `undefined`的情况下，还可以使用转型函数`String()`，这个函数能够将任何类型的值转换为字符串。`String()`函数遵循下列转换规则：
  - 如果值有 `toString()`方法，则调用该方法并返回相应的结果。
  - 如果值是`null`，则返回`“null”`。
  - 如果值是 `undefined`，则返回`“undefined”`。
  - 黑科技（隐式转换）
    任何数据只需要跟字符串相加最终结果一定是字符串

### 1.7.3. 将数据转换成布尔类型

虽然 `Boolean` 类型的字面值只有两个。但 `ECAMScript`中所有类型的值都是有与这两个 `Boolean` 值等价的值。要将一个值转换为其对应的 `Boolean` 值，可以调用转型函数 `boolean()`
数据类型|转换为 true 的值|转换为 false 的值
---|---|---
Boolean|true|false
String|任何非空字符串 |“”（空字符串）
Number|任何非零数字值（包括无穷大）| 0 和 NaN
Object|任何对象| null
Undefined|n/a（not applicable）不适用| undefined
